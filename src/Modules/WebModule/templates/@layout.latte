{extends $appDir.'/Modules/templates/@layout.latte'}
<body n:block="body" class="hold-transition sidebar-collapse layout-top-nav">
<div class="wrapper">

	<a id="top" class="sr-only"><!-- top anchor --></a>

	<nav class="main-header navbar navbar-expand-md bg-lightblue navbar-dark">
	<div class="container">

		<a n:href="Home:default" class="navbar-brand">
			<span class="brand-image">{_nette.site.icon|noescape}</span>
			<span class="brand-text font-weight-light" n:block="appName">{_nette.site.name|noescape}</span>
		</a>
      
		<a class="navbar-toggler" data-toggle="collapse" data-target="#navbarCollapse">
			<span class="navbar-toggler-icon"></span>
		</a>

		<div class="collapse navbar-collapse" id="navbarCollapse">

			{block beforeMenu}{/block}
			{include $appDir.'/Modules/components/menu-web.latte'}
			{block afterMenu}{/block}

		</div>

		{include $appDir.'/Modules/components/menu-user.latte'
			hasHelp => isset($_b->blocks['helpBlock']),
			isRight => true,
		}

	</div>
	</nav>

	<aside class="main-sidebar sidebar-dark-primary elevation-4" n:if="$user->isAllowed('Admin:Home')">

		<a n:href="Home:default" class="brand-link">
			<span class="pl-2"><span class="px-2">{_nette.site.icon|noescape}</span></span>
			<span class="brand-text font-weight-light">{_nette.site.name|noescape}</span>
		</a>

		<div class="sidebar">

			<div class="user-panel mt-3 pb-3 mb-3 d-flex">
				<div class="image">
					<img n:img="$profile->getImage()" class="img-circle" alt="{$profile}">
				</div>
				<div class="info">
					<a n:href=":Web:Auth:profile" class="d-block">{$profile->getDisplayName()}</a>
					<em class="text-muted" n:if="$profile->getName()">{$profile->getEmail()|lower}</em>
				</div>
			</div>

			{include $appDir.'/Modules/components/menu-admin.latte'}

		</div>

	</aside>

	<div class="content-wrapper">

		<div class="alerts no-print no-margin" n:snippet="flashMessages">
			<div n:foreach="$flashes as $flash" class="alert alert-{$flash->type} no-margin">
				<i class="fas {$flashIcon[$flash->type]} fa-fw"></i>
				{$flash->message|translate:$flash->params ?? []|noescape}
			</div>
		</div>

		<div class="content-header" n:block="header">
		<div class="container">

			<div class="row mb-2">
				<div class="col-sm-6">
					<h1 n:block="title" class="m-0 text-dark">{('nette.page.'.$pageName)|translate|noescape}</h1>
				</div>
				<div class="col-sm-6">
					{ifset breadcrumbs}{include breadcrumbs}{/ifset}
				</div>
			</div>

		</div>
		</div>

		{include content|indent:3}

	</div>

	<footer class="main-footer">
	<div class="container">

		<strong>{_nette.author.name} &copy; {date('Y')}</strong>

	</div>
	</footer>

	<aside class="control-sidebar control-sidebar-dark" n:ifset="helpBlock">

		<a href="#" class="btn btn-link float-right sidebar-toggle" data-widget="control-sidebar" data-slide="true">
			<i class="fas fa-fw fa-times"></i>
		</a>

		{include helpBlock|indent:2|trim}

	</aside>

</div>

	<!-- javascript -->
	{control tessa:js default |indent|trim}
	{control tessa:js recaptcha |indent|trim}
	{ifset javascript}{include javascript}{/ifset}

</body>